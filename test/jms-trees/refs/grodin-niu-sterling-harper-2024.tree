\title{\startverb decalf\stopverb: a directed, effectful cost-aware logical framework}
\date{2024-01-05}
\taxon{reference}

\author{harrisongrodin}
\author{yueniu}
\author{jonmsterling}
\author{robertharper}

\meta{venue}{[[popl-2024]]}

\tag{refereed}
\tag{stc}
\tag{typesynth}
\tag{new-spaces}

\meta{doi}{10.1145/3632852}
\meta{external}{https://arxiv.org/abs/2307.05938}

\meta{bibtex}\verb<<<|
@article{grodin-niu-sterling-harper-2024,
  author = {Grodin, Harrison and Niu, Yue and Sterling, Jonathan and Harper, Robert},
  title = {Decalf: A Directed, Effectful Cost-Aware Logical Framework},
  year = {2024},
  publisher = {Association for Computing Machinery},
  address = {New York, NY, USA},
  volume = {8},
  number = {POPL},
  doi = {10.1145/3632852},
  journal = {Proc. ACM Program. Lang.},
  month = {jan},
  articleno = {10},
  numpages = {29},
}<<<
\let\calf{[\strong{calf}](niu-sterling-grodin-harper-2022)}

\p{We present \strong{decalf}, a \strong{d}irected, \strong{e}ffectful \strong{c}ost-\strong{a}ware \strong{l}ogical \strong{f}ramework for studying quantitative aspects of functional programs with effects.  Like \calf, the language is based on a formal \em{phase distinction} between the \em{extension} and the \em{intension} of a program, its pure \em{behavior} as distinct from its \em{cost} measured by an effectful step-counting primitive. The type theory ensures that the behavior is unaffected by the cost accounting.  Unlike \calf, the present language takes account of \em{effects}, such as probabilistic choice and mutable state; this extension requires a reformulation of \calf’s approach to cost accounting: rather than rely on a “separable” notion of cost, here \em{a cost bound is simply another program}. To make this formal, we equip every type with an intrinsic preorder, relaxing the precise cost accounting intrinsic to a program to a looser but nevertheless informative estimate.  For example, the cost bound of a probabilistic program is itself a probabilistic program that specifies the distribution of costs.  This approach serves as a streamlined alternative to the standard method of isolating a recurrence that bounds the cost in a manner that readily extends to higher-order, effectful programs.}

\p{The development proceeds by first introducing the \strong{decalf} type system, which is based on an intrinsic ordering among terms that restricts in the extensional phase to extensional equality, but in the intensional phase reflects an approximation of the cost of a program of interest.  This formulation is then applied to a number of illustrative examples, including pure and effectful sorting algorithms, simple probabilistic programs, and higher-order functions.  Finally, we justify \strong{decalf} via a model in the topos of augmented simplicial sets.}
