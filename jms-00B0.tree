\title{indefinite description in homotopy type theory}
\date{2023-10-19}
\author{jonmsterling}
\taxon{project idea}
\import{base-macros}

\p{Certain foundational systems for mathematics employ \em{global choice} or \em{indefinite description} operators; operators of this kind are assumed by Bourbaki, Isabelle/HOL, and Lean. Indefinite description is similar to the axiom of choice, but quite a bit stronger:}

##{
  \frac{
    \Gamma, x:A \mid \phi\prn{x} : \Con{prop}
    \qquad
    \Gamma \vdash \exists x : A. \top
  }{
    \Gamma\mid \prn{\epsilon x:A. \phi\prn{x}} : A
    \qquad
    \Gamma,z:A \mid \phi\prn{z} \vdash \phi\prn{\epsilon x:A.\phi\prn{x}}
  }
}

\p{In the presence of subset types, indefinite description in the sense above is equivalent to the presence of a single \em{global choice} operator:}

##{
  \frac{
    \Gamma\vdash \exists x : A. \top
  }{
    \Gamma\mid \Con{some}_A : A
  }
}

\transclude{jms-00B1}
\transclude{jms-00B2}


\p{\mark{I believe that it is nonetheless possible to have the “best of both worlds” and elaborate a high-level language with indefinite descriptions to homotopy type theory with the axiom of choice.} The idea has two main parts:}

\ol{
  \li{First of all, we must interpret the “signatures” of top-level declarations as being fully abstract, taking place in the propositional truncation monad. For instance, a definitional extension #{\Con{def}\,t : A :\equiv u} should be interpreted as producing an element of the truncation  #{\vvrt{\ixsum{x:A}x = u}}; subsequent declarations proceed by unpacking this truncation using the contractibility of singletons.}
  \li{Secondly, we shall elaborate an occurrence of #{\Gamma\vdash \Con{some}_A\prn{u}:A} given #{\Gamma\vdash u : \vvrt{A}} by \em{unleashing} a new top-level declaration #{\vartheta : \ixprod{\cdots:\Gamma}A}, which (under the interpretation of top-level declarations via truncation) can be defined from #{\lambda\cdots.u} using the ordinary axiom of choice. Then #{\Con{some}(u)} is elaborated to #{\vartheta\prn{\cdots}}.}
}

\p{Thus we have a language for univalent foundations in which indefinite descriptions can be used. There is a minor trade-off in the proposed treatment, however: two occurrences of #{\Con{some}_A\prn{u}} will elaborate to \em{different} core language terms. It may be possible to get around this by means of some kind of caching, but I think that may be ultimately unnecessary in practice — as the entire point of an indefinite description is that it shall satisfy no properties except the specified one.}