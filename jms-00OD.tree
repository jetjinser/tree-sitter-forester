\title{soundness of the subset construction}
\date{2024-02-09}
\author{jonmsterling}
\contributor{frankstajano}
\contributor{andrewpitts}
\taxon{lemma}
\import{jms-00JB}

\p{Let #{M} be an NFA with \nowrap{#{\epsilon}-transitions}; then #{\lang{\pow{M}}\subseteq \lang{M}}.}

\put\transclude/toc{false}
\subtree{
 \taxon{proof}

 \p{We must show that any string #{u\in \lang{\pow{M}}} lies in \lang{M}.}

 \put\transclude/numbered{false}

 \subtree{
  \taxon{case}
  \title{empty string}
   \p{If #{u=\epsilon}, then by definition we have #{\start{\pow{M}}\in\accepting{\pow{M}}} and so by definition, there exists #{q\in \start{\pow{M}}} such that #{q\in \accepting{M}}. By definition of \start{\pow{M}}, we therefore have #{s\xRightarrow{\epsilon}q}; because #{q\in \accepting{M}}, we have #{\epsilon\in\lang{M}}.}
 }

 \subtree{
  \taxon{case}
  \title{non-empty string}
  \p{Suppose on the other hand that #{u=a_1\cdots a_n}, and so we therefore have transitions #{\start{\pow{M}}\xrightarrow{a_1}S_1\xrightarrow{\ldots}S_{n-1}\xrightarrow{a_n}S_n} with #{S_n\in \accepting{\pow{M}}}, and so there exists some #{q_n\in S_n\cap \accepting{M}}. Define #{S_0 = \start{\pow{M}}}.}

  \p{By definition of \pow{M}, from the transition #{S_{n-1}\xrightarrow{a_n}S_n} we may find some #{q_{n-1}\in S_{n-1}} such that #{q_{n-1}\xRightarrow{a_n}q_n}. Iterating this process, we may find states #{q_i\in S_{i}} such that we have a sequence of transitions #{q_{i-1}\xRightarrow{a_i}q_i} in #{M}; thus we have a sequence of transitions #{q_0\xRightarrow{u}q_n}. Because #{q_0\in S_0=\start{\pow{M}}}, we have #{\start{M}\xRightarrow{\epsilon}q_0} and thus #{\start{M}\xRightarrow{\epsilon}q_0\xRightarrow{u}q_n} and therefore #{\start{M}\xRightarrow{u} q_n}. Because #{q_n\in \accepting{M}}, we are done.}
 }
}